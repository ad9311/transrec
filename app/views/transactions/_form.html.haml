= form_for @transaction do |f|
  .hidden-field
    = f.hidden_field :cycle_id, value: @cycle.id
  - if mode == :deposit
    .hidden-field
      = f.hidden_field :category, value: :deposit
  - else
    .field.mb-3
      = f.label :category, class: "form-label"
      = f.select :category, map_enum(Transaction.categories, 'deposit'), {}, { class: "form-select" }
  .field.mb-3
    = f.label :description, class: "form-label"
    = f.text_area :description, class: "form-control"
  .field.mb-3
    = f.label :amount, class: "form-label"
    = f.number_field :amount, value: 0, min: 1, step: 0.1, class: "form-control"
  .actions
    = link_to "Close", @cycle.bank_account, "data-turbo-frame": "_top", class: "btn btn-danger"
    = f.submit "Save", class: "btn btn-primary float-end"